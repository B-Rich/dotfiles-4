[ui]
#####################################################################

username = Seth House <seth@eseth.com>
ignore = ~/.hgignore

[alias]
#####################################################################

ll = glog --limit 5 --template '{rev}:{node|short}    {tags} {parents}'\
    '{date|age} ago   {author|user}\n  {desc|firstline|strip}\n\n'

# Show status output for the current patch
qstatus = status --rev -2:.

# Output all applied patches as a single diff
qudiff = diff -r $(hg parents -r qbase --template '#rev#') -r qtip

[merge-tools]
#####################################################################

vimdiff.executable = vimdiff
vimdiff.premerge = True
vimdiff.gui = False

[web]
#####################################################################

allow_archive = bz2 gz
# push_ssl = false
# allow_push = *

[extensions]
#####################################################################

color =
hgext.graphlog =
hgext.purge =
hgext.mq =
hgext.record =
hgext.rebase =
hgext.bookmarks =
hgext.hg-git = ~/lib/python/site-packages/hg-git

[hooks]
#####################################################################

# Don't commit any code that contains 'pdb'
# pretxncommit.pdb = hg export tip | (! grep 'pdb') 

# Prevent "hg pull" if MQ patches are applied.
prechangegroup.mq-no-pull = ! hg qtop > /dev/null 2>&1

# Prevent "hg push" if MQ patches are applied.
preoutgoing.mq-no-push = ! hg qtop > /dev/null 2>&1
